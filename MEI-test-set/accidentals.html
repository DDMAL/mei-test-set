<!DOCTYPE html>
<html>
<head>
    <title>Accidentals</title>
    <script src="../verovio-toolkit.js"></script>
</head>
<body>

<h2>MEI-test-set - Accidentals</h2>
    <div id="output">
    <script type="text/javascript">

        function pictureExample(myMEI, myTitle, myTest, myOrig, last)
        {   

            var fileName = "MEI/accidentals/" + myMEI;

            var vrvToolkit = new verovio.toolkit();
            vrvToolkit.setOptions(JSON.stringify({scale: 40, adjustPageHeight: 1}));

            var xhr = new XMLHttpRequest();

            xhr.onload = function(args)
            {
                var svg = vrvToolkit.renderData(xhr.responseText, "");
                document.getElementById("output").innerHTML += "<a name='" + myMEI + "'/>" + "<h3>" + myTitle + "</h3>" + myMEI + "<p>"+ myTest + "</p>" + svg + "<p>Original:</p>" + myOrig + "<hr/>";

                if (last == "True")
                {
                    document.getElementById("output").innerHTML += "<center>rendered with Verovio version " + vrvToolkit.getVersion() + "</center>";
                }
            }
      
            xhr.open("GET", fileName);
            xhr.send();
        }


        pictureExample(
            "all-accidentals.mei",
            "All Accidentals",
            "Should display accidentals on all the notes",
            "<img src='sibs/accidentals/all-accidentals.png' alt='all accidentals'/>"
        );

        pictureExample(
            "altered-unisons.mei",
            "Altered unisons",
            "Should display more than one accidental for each note head (in 2 layers)",
            "<img src='sibs/accidentals/altered-unisons.png' alt='altered unisons'/>"
            );

        pictureExample(
            "altered-unisons-2.mei",
            "Altered unisons 2",
            "Should display more than one accidental for each note head (only one layer)",
            "<img src='sibs/accidentals/altered-unisons-2.png' alt='altered unisons 2'/>"
            );

        pictureExample(
            "treble-clef.mei",
            "Treble clef",
            "Key signature should change in each bar",
            "<img src='sibs/accidentals/treble-clef.png' alt='treble clef'/>"
            );

        pictureExample(
            "alto-clef.mei",
            "Alto clef",
            "Key signature should change in each bar",
            "<img src='sibs/accidentals/alto-clef.png' alt='alto clef'/>"
            );

        pictureExample(
            "tenor-clef.mei",
            "Tenor clef",
            "Key signature should change in each bar",
            "<img src='sibs/accidentals/tenor-clef.png' alt='tenor clef'/>"
            );

        pictureExample(
            "bass-clef.mei",
            "Bass clef",
            "Key signature should change in each bar",
            "<img src='sibs/accidentals/bass-clef.png' alt='bass clef'/>"
            );

        pictureExample(
            "big-chords.mei",
            "Big chords",
            "All notes should have accidentals on them, and layout should be correct",
            "<img src='sibs/accidentals/big-chords.png' alt='big chords'/>"
            );

        pictureExample(
            "cancellation.mei",
            "Cancellation",
            "Accidentals should be cancelled out the following note",
            "<img src='sibs/accidentals/cancellation.png' alt='cancellation'/>"
            );

        pictureExample(
            "cancellation-repeated-notes.mei",
            "Cancellation repeated notes",
            "First accidental should be cancelled out on the following notes",
            "<img src='sibs/accidentals/cancellation-repeated-notes.png' alt='cancellation repeated notes'/>"
            );

        pictureExample(
            "grace-notes.mei",
            "Grace notes",
            "Accidentals should be positioned correctly on grace notes, and when there are grace notes",
            "<img src='sibs/accidentals/grace-notes.png' alt='grace notes'/>"
            );

        pictureExample(
            "octave-displacement.mei",
            "Octave displacement",
            "Octave displacement rules for accidentals should be followed",
            "<img src='sibs/accidentals/octave-displacement.png' alt='octave displacement'/>"
            );

        pictureExample(
            "placement-other-symbols.mei",
            "Placement other symbols",
            "Accidental placement in presence of other symbols should be correct",
            "<img src='sibs/accidentals/placement-other-symbols.png' alt='placement other symbols'/>"
            );

        pictureExample(
            "quarter-tones.mei",
            "Quarter tones",
            "Accidentals, including quarter tones, should be displayed",
            "<img src='sibs/accidentals/quarter-tones.png' alt='quarter tones'/>"
            );

        pictureExample(
            "respelling.mei",
            "Respelling",
            "Notes being respelled with different accidentals should be correct",
            "<img src='sibs/accidentals/respelling.png' alt='respelling'/>"
            );

        pictureExample(
            "tied-notes.mei",
            "Tied notes",
            "Tied notes should not have reiterated accidentals",
            "<img src='sibs/accidentals/tied-notes.png' alt='tied notes'/>"
            );

        pictureExample(
            "two-parts-cancelled.mei",
            "Two parts cancelled",
            "Accidental cancellation should be correct in 2 parts",
            "<img src='sibs/accidentals/two-parts-cancelled.png' alt='two parts cancelled'/>"
            );

        pictureExample(
            "two-stem-chords.mei",
            "Two stem chords",
            "Accidental placement in chords with two stems should be correct",
            "<img src='sibs/accidentals/two-stem-chords.png' alt='two stem chords'/>"
            );

        pictureExample(
            "unconventional-key-sig.mei",
            "Unconventional key signature",
            "Should show a key signature with a flat and a sharp",
            "<img src='sibs/accidentals/unconventional-key-sig.png' alt='Unconventional key signature'/>",
            "True"
            );


    </script>
    </div>


</body>
</html>